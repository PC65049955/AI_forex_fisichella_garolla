\documentclass[1p]{elsarticle}

\usepackage{lineno,hyperref}
\usepackage{makeidx} % allows for indexgeneration
\usepackage{color} % allows for indexgeneration
\usepackage{amsmath, amssymb}
\usepackage{url}
\usepackage[ruled,vlined]{algorithm2e}
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{verbatim}
\usepackage{multirow}
\usepackage [table]{xcolor}
\usepackage{colortbl}
\modulolinenumbers[5]

\journal{Journal of \LaTeX\ Templates}

%%%%%%%%%%%%%%%%%%%%%%%
%% Elsevier bibliography styles
%%%%%%%%%%%%%%%%%%%%%%%
%% To change the style, put a % in front of the second line of the current style and
%% remove the % from the second line of the style you would like to use.
%%%%%%%%%%%%%%%%%%%%%%%

%% Numbered
%\bibliographystyle{model1-num-names}

%% Numbered without titles
%\bibliographystyle{model1a-num-names}

%% Harvard
%\bibliographystyle{model2-names.bst}\biboptions{authoryear}

%% Vancouver numbered
%\usepackage{numcompress}\bibliographystyle{model3-num-names}

%% Vancouver name/year
%\usepackage{numcompress}\bibliographystyle{model4-names}\biboptions{authoryear}

%% APA style
%\bibliographystyle{model5-names}\biboptions{authoryear}

%% AMA style
%\usepackage{numcompress}\bibliographystyle{model6-num-names}

%% `Elsevier LaTeX' style
\bibliographystyle{elsarticle-num}
%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\begin{frontmatter}

\title{FOREX meet A.I.\tnoteref{mytitlenote}}
\tnotetext[mytitlenote]{Fully documented templates are available in the elsarticle package on \href{http://www.ctan.org/tex-archive/macros/latex/contrib/elsarticle}{CTAN}.}

%% Group authors per affiliation:
%\author{Elsevier\fnref{myfootnote}}
%\address{Radarweg 29, Amsterdam}
%\fntext[myfootnote]{Since 1880.}

%% or include affiliations in footnotes:
\author[l3s_address]{Marco Fisichella\corref{mycorrespondingauthor}}
%\ead[url]{www.elsevier.com}
\cortext[mycorrespondingauthor]{Corresponding author}
\ead{mfisichella@L3S.de}

\author[filippoaddress]{Filippo Garolla}


\address[l3saddress]{L3S Research Center of Leibniz University of Hannover, Germany}
\address[filippoaddress]{Austria}

\begin{abstract}
This template helps you to create a properly formatted \LaTeX\ manuscript.
\end{abstract}

\begin{keyword}
\texttt{elsarticle.cls}\sep \LaTeX\sep Elsevier \sep template
\MSC[2010] 00-01\sep  99-00
\end{keyword}

\end{frontmatter}

%\linenumbers

%---------- INTRODUCTION ------

\input{introduction}

%---------- RELATED WORK -----
\input{relatedwork}


%---------- PRELIMINARIES ------

\input{preliminaries}

%---------- TRADING ------

\input{trading}

\begin{algorithm}
\KwIn{

$signal$: A trading signal: trading rule buy/sell signal data to open buy/sell position; 

$marketMovingHoriz$: Definition of Market moving horizontally; 

$symbol$: The selected currency pair;

$stopLoss$: Initial fixed Stop-Loss in points;

$sellPosCount$: The count of open SELL positions;

$FixedVolume$:  Volume in lots;

$RiskPercent$:  Maximum risk per trade with respect to the current balance;

$takeProfit_XSL$: Multiplier factor of Take-Profit with respect to Stop-Loss}
\KwOut{A list of opened positions}
\While{$OnTick()$}{
$newBar$= CheckNewBar()\;
\If {$(newBar==true)$}{
\tcc{Open BUY position and close all SELL positions}
\If{$(signal==BUY)$}{
\tcc{Close open SELL positions}
\If{$(sellPosCount > 0)$}{
CloseAllSellPosition()\;
}
\tcc{Do not open another BUY if there is a current BUY position opened with a price in a close range}
\If{$(currentBar.Close > (lastPriceBuyOpenPosition + (marketMovingHoriz/2)) ||
currentBar.Close < (lastPriceBuyOpenPosition - (marketMovingHoriz/2))$}
{
\tcc{Compute StopLoss, expressed in points}
$dynamicStopLoss$ = DynamicStopLoss()\;
$stopLossDistance$ = MathMax($dynamicStopLoss, stopLoss$)\; 
\tcc{UseMoneyManagement. E.g. max Risk can be 10\%of the overall balance}
$tradeSize$=MoneyManagement($symbol, FixedVolume, RiskPercent, stopLossDistance$)\;
\tcc{takeProfit is X times stopLoss. If it is zero it is not considered}
$buyProfit$ = BuyTakeProfit($symbol, takeProfit_XSL, currentBar.Price$)\; 
\tcc{Buy}
$glBuyPlaced$=Trade.Buy($tradeSize, stopLossDistance, buyProfit, symbol$)\; 
}	
}
\tcc{Open SELL position and close all BUY positions}
\If{$(signal==SELL)$}{
\tcc{Close open BUY positions}
\If{$(buyPosCount > 0)$}{
CloseAllBuyPosition()\;
}
\tcc{Do not open another SELL if there is a current SELL position opened with a price in a close range}
\If{$(currentBar.Close > (lastPriceSellOpenPosition + (marketMovingHoriz/2)) ||
currentBar.Close < (lastPriceSellOpenPosition - (marketMovingHoriz/2))$}
{
\tcc{Compute StopLoss, expressed in points}
$dynamicStopLoss$ = DynamicStopLoss()\;
$stopLossDistance$ = MathMax($dynamicStopLoss, stopLoss$)\; 
\tcc{UseMoneyManagement. E.g. max Risk can be 10\%of the overall balance}
$tradeSize$=MoneyManagement($symbol, FixedVolume, RiskPercent, stopLossDistance$)\;
\tcc{takeProfit is X times stopLoss. If it is zero it is not considered}
$buyProfit$ = SellTakeProfit($symbol, takeProfit_XSL, currentBar.Price$)\; 
\tcc{Buy}
$glBuyPlaced$=Trade.Sell($tradeSize, stopLossDistance, buyProfit, symbol$)\; 
}	
}
}
}
\caption{Opening buy and sell positions}
\label{alg:tradingSim}
\end{algorithm}

%---------- Experiments-----
\input{filippo_exp}

%-----

\bibliography{mybibfile}

\end{document}